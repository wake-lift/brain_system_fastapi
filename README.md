## Что такое BrainSystem

#### BrainSystem - сайт, посвященный изготовлению DIY брейн-системы для интеллектуальных игр.

##### Ресурсы сайта:

- Документация по сборке брейн-системы
- База данных вопросов
- API базы данных вопросов
- Telegram бот, подключенный к Базе

## Что такое BrainAPI

#### BrainAPI - это API-сервис вопросов для интеллектуальных игр.
#### В рамках API реализованы следущие опции:

- Получение вопросов из базы данных
- Получение случайных вопросов из базы данных
- Получение случайных турнироных пакетов вопросов
- Строгий поиск по тексту вопроса
- Полнотекстовый и нестрогий поиск по тексту вопроса
- Фильтрация по категории вопроса
- Добавление вопросов
- Редактирование вопросов
- Удаление вопросов
- Регистрация пользователей
- Редактирование данных пользователей
- Формирование таблиц с сгенерированными пакетами вопросов в формате ods и рассылка их по email


#### При разработке проекта применены следующие технологии:
- Python v3.12
- Fastapi v0.111
- Fastapi-users v13.0
- Slowapi v.0.1.9
- Starlette-WTF v.0.4.5
- SQLAlchemy v2.0 + Alembic v1.13
- Redis v7
- Docker Compose
- PostgreSQL v16
- Nginx v1.27
- Python telegram bot v21.0.1
- Celery v5.4
- Pytest-asyncio v0.23
- Elasticsearch v8.14

#### Реализована контейнеризация отдельных компонентов проекта:
- Бэкенд-приложение API
- Бэкенд-приложение сайта
- Redis-сервер для кэширования и обеспечения работы Celery
- База данных Postgres
- Веб-сервер Nginx
- Телеграм-бот
- Celery-приложение для выполнения отложенных задач
- Elasticsearch-сервер для полнотекстового поиска

#### Комментарии к развертыванию проекта

- В проекте присутствуют 2 файла с зависимостями:
    - requirements_app.txt - зависимости для приложений FastAPI и для Celery;
    - requirements_bot.txt - зависимости для телеграм-бота.
- Содержимое базы данных, индекса Elasticsearch, статические файлы веб-страниц сохраняются в Docker Volumes.
- Оркестрация контейнеров реализована на базе Docker Compose.
- На сервере в директории проекта должен быть создан файл .env с параметрами, не предполагающими общий доступ из репозитория.
- Необходимые переменные среды для файла .env указаны в файле .env.example.
- В директории `/web` размещены инструкции docker compose:
    - `docker-compose_x86_64_dev.yml` - для запуска сервера разработки на машине с архитектурой x86_64
    - `docker-compose_ARM64_prod.yml` - для запуска на машине с архитектурой ARM64v8
    - развертывание проекта на production-сервере осуществляется согласно инструкции `docker-compose_ARM64_prod.yml`. Инструкция предназначена для сервера с архитектурой ARM64v8.
